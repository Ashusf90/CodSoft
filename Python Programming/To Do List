import tkinter as tk
from tkinter import messagebox, simpledialog
from datetime import datetime, timedelta
import os

TASK_FILE = "tasks.txt"
DATE_FORMAT = "%Y-%m-%d %H:%M"

def load_tasks():
     if not os.path.exists(TASKS_FILE):
          return []
     with open(TASKS_FILE, "r") as file:
     tasks = []
     for line in lines:
          try:
              text, due, done = line.strip().split("||")
              tasks.append({"task": text, "due": due, "done": done == "1"})
          except:
              continue
      return tasks

def save_tasks():
    with open(TASKS_FILE, "w") as file:
          for task in tasks:
               line = f'{task["task"]}||{task["due"]}||{"1" if task["done"] else "0"}\m'
               file.write(line)
